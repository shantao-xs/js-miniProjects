<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mouse Shadow</title>
  <link rel="icon" href="https://fav.farm/ğŸ”¥" />
</head>
<body>

  <div class="hero">
    <h1 contenteditable>ğŸ”¥WOAH!</h1>
  </div>

  <style>
  html {
    color: black;
    font-family: sans-serif;
  }

  body {
    margin: 0;
  }

  .hero {
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: black;
  }

  h1 {
    text-shadow: 10px 10px 0 rgba(0,0,0,1);
    font-size: 100px;
  }
  </style>

<script>
  //ä¸‰ç»„æ•°æ®ï¼šanchorèŠ‚ç‚¹çš„ä½ç½®ï¼ŒshadowèŠ‚ç‚¹çš„ç›¸å¯¹ä½ç½®ï¼Œmousemoveäº§ç”Ÿçš„åç§»é‡
  //ç»™å‡ºå›ºå®šå…¬å¼ï¼šMath.round((x / width * moveRange) - (moveRange / 2))
  const anchor = document.querySelector('.hero');
  const shadow = document.querySelector('.hero h1');
  const moveRange = 50;
  //ï¼Ÿï¼Ÿï¼Ÿæ€ä¹ˆæ‰èƒ½åœ¨devtoolé‡Œçœ‹åˆ°anchorçš„ä¸åŒå±æ€§ï¼Ÿ  console.dir(anchor);æ‰“å°å±æ€§åˆ—è¡¨

  //æ€ä¹ˆæ‰¹é‡ç»™ä¸€ä¸ªå¯¹è±¡çš„å¤šä¸ªå±æ€§èµ‹å€¼ï¼Ÿ{x:x,y:y}=event
  function handleMove(e){
    //anchorèŠ‚ç‚¹çš„å®½é«˜
    const {offsetWidth:width, offsetHeight:height} = anchor;
    //mousemoveåç§»é‡
    let {offsetX:x,offsetY:y} = e;

    //ï¼ï¼ï¼å½“anchor(this)ä¸é¼ æ ‡ä½ç½®(e.target)ä¸é‡å æ—¶ï¼Œå†è®¡ç®—ç›¸å¯¹äºanchorçˆ¶èŠ‚ç‚¹çš„leftå’Œtopåç§»çš„é‡ï¼Œå³mousemoveè¿åŠ¨åç§»é‡+å½“å‰èŠ‚ç‚¹ç›¸å¯¹äºçˆ¶èŠ‚ç‚¹leftå’Œtopçš„åç§»é‡
    if(this !== e.target){
      x=x+e.target.offsetLeft;
      y=y+e.target.offsetTop;
    }



    //å¥—ç”¨å…¬å¼ Math.round((x / width * moveRange) - (moveRange / 2))
    const xMoveRange = Math.round((x / width * moveRange) - (moveRange / 2));
    const yMoveRange = Math.round((y / height * moveRange) - (moveRange / 2))

    //!!!é”™è¯¯åŸå› ï¼šæ£€æŸ¥æœ‰æ²¡æœ‰ç¼ºäº†ä¸€åŠçš„{}ï¼
    shadow.style.textShadow = `${xMoveRange}px ${yMoveRange}px 10px rgba(128, 128, 128, 0.7)`;
  }

  
  
  anchor.addEventListener('mousemove',handleMove);
  

</script>
</body>
</html>
